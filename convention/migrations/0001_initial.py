# Generated by Django 5.0 on 2025-12-12 18:27

import django.core.validators
import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('accounts', '0005_address_is_primary_member_preferred_first_name'),
    ]

    operations = [
        migrations.CreateModel(
            name='Convention',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200)),
                ('year', models.IntegerField(validators=[django.core.validators.MinValueValidator(1900)])),
                ('location', models.CharField(blank=True, max_length=200)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('registration_open_date', models.DateField(blank=True, null=True)),
                ('registration_close_date', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-year', '-start_date'],
                'indexes': [models.Index(fields=['year'], name='convention__year_94b04c_idx'), models.Index(fields=['is_active'], name='convention__is_acti_1bfff8_idx')],
            },
        ),
        migrations.CreateModel(
            name='ConventionRegistration',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('is_guest', models.BooleanField(default=False)),
                ('status_code', models.CharField(choices=[('registered', 'Registered'), ('confirmed', 'Confirmed'), ('cancelled', 'Cancelled'), ('checked_in', 'Checked In'), ('waitlisted', 'Waitlisted')], default='registered', max_length=20)),
                ('registration_date', models.DateTimeField(auto_now_add=True)),
                ('credentials_received', models.BooleanField(default=False)),
                ('credentials_received_date', models.DateTimeField(blank=True, null=True)),
                ('checked_in_at', models.DateTimeField(blank=True, null=True)),
                ('at_convention', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('convention', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='registrations', to='convention.convention')),
                ('host_registration', models.ForeignKey(blank=True, help_text="Only populated if is_guest=True. References the host's registration.", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='guests', to='convention.conventionregistration')),
                ('member', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='convention_registrations', to='accounts.member')),
            ],
        ),
        migrations.CreateModel(
            name='ConventionGuest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('guest_first_name', models.CharField(max_length=100)),
                ('guest_last_name', models.CharField(max_length=100)),
                ('guest_email', models.EmailField(blank=True, max_length=254)),
                ('guest_phone', models.CharField(blank=True, max_length=20)),
                ('guest_dietary_restrictions', models.TextField(blank=True)),
                ('guest_special_requests', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('registration', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='guest_details', to='convention.conventionregistration')),
            ],
        ),
        migrations.CreateModel(
            name='ConventionCommitteePreference',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('alumni_affairs', models.IntegerField(choices=[(0, 'No Interest'), (1, 'Interested'), (2, 'Prefer')], default=0)),
                ('awards', models.IntegerField(choices=[(0, 'No Interest'), (1, 'Interested'), (2, 'Prefer')], default=0)),
                ('chapter_operations', models.IntegerField(choices=[(0, 'No Interest'), (1, 'Interested'), (2, 'Prefer')], default=0)),
                ('collegiate_chapters', models.IntegerField(choices=[(0, 'No Interest'), (1, 'Interested'), (2, 'Prefer')], default=0)),
                ('communications', models.IntegerField(choices=[(0, 'No Interest'), (1, 'Interested'), (2, 'Prefer')], default=0)),
                ('constitution', models.IntegerField(choices=[(0, 'No Interest'), (1, 'Interested'), (2, 'Prefer')], default=0)),
                ('engineering_futures', models.IntegerField(choices=[(0, 'No Interest'), (1, 'Interested'), (2, 'Prefer')], default=0)),
                ('membership', models.IntegerField(choices=[(0, 'No Interest'), (1, 'Interested'), (2, 'Prefer')], default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('registration', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='committee_preferences', to='convention.conventionregistration')),
            ],
        ),
        migrations.CreateModel(
            name='ConventionAccommodation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('package_choice', models.CharField(choices=[('full', 'Full Package - All meals and events'), ('partial', 'Partial Package - Select meals'), ('commuter', 'Commuter Package - No hotel'), ('custom', 'Custom Package')], default='full', max_length=20)),
                ('needs_hotel', models.BooleanField(default=True)),
                ('check_in_date', models.DateField(blank=True, null=True)),
                ('check_out_date', models.DateField(blank=True, null=True)),
                ('roommate_preference', models.CharField(choices=[('single', 'Single Room'), ('specific', 'Specific Roommate'), ('any', 'Any Roommate')], default='any', max_length=20)),
                ('specific_roommate_name', models.CharField(blank=True, max_length=200)),
                ('specific_roommate_chapter', models.CharField(blank=True, max_length=100)),
                ('food_allergies', models.TextField(blank=True)),
                ('dietary_restrictions', models.TextField(blank=True)),
                ('other_allergies', models.TextField(blank=True)),
                ('room_number', models.CharField(blank=True, max_length=20)),
                ('room_confirmation', models.CharField(blank=True, max_length=50)),
                ('special_requests', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('registration', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='accommodation', to='convention.conventionregistration')),
            ],
        ),
        migrations.CreateModel(
            name='ConventionTravel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('travel_method', models.CharField(choices=[('driving', 'Driving'), ('self_booking', 'Booking Own Flight'), ('need_booking', 'Need Flight Booked')], default='need_booking', max_length=20)),
                ('departure_airport', models.CharField(blank=True, max_length=10)),
                ('departure_date', models.DateField(blank=True, null=True)),
                ('departure_time_preference', models.CharField(blank=True, max_length=50)),
                ('return_airport', models.CharField(blank=True, max_length=10)),
                ('return_date', models.DateField(blank=True, null=True)),
                ('return_time_preference', models.CharField(blank=True, max_length=50)),
                ('outbound_airline', models.CharField(blank=True, max_length=100)),
                ('outbound_flight_number', models.CharField(blank=True, max_length=20)),
                ('outbound_departure_time', models.DateTimeField(blank=True, null=True)),
                ('outbound_arrival_time', models.DateTimeField(blank=True, null=True)),
                ('outbound_confirmation', models.CharField(blank=True, max_length=50)),
                ('return_airline', models.CharField(blank=True, max_length=100)),
                ('return_flight_number', models.CharField(blank=True, max_length=20)),
                ('return_departure_time', models.DateTimeField(blank=True, null=True)),
                ('return_arrival_time', models.DateTimeField(blank=True, null=True)),
                ('return_confirmation', models.CharField(blank=True, max_length=50)),
                ('flight_notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('registration', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='travel', to='convention.conventionregistration')),
            ],
        ),
        migrations.AddIndex(
            model_name='conventionregistration',
            index=models.Index(fields=['convention', 'is_guest'], name='convention__convent_d5982f_idx'),
        ),
        migrations.AddIndex(
            model_name='conventionregistration',
            index=models.Index(fields=['host_registration'], name='convention__host_re_47aba2_idx'),
        ),
        migrations.AddIndex(
            model_name='conventionregistration',
            index=models.Index(fields=['status_code'], name='convention__status__ffa922_idx'),
        ),
        migrations.AddConstraint(
            model_name='conventionregistration',
            constraint=models.UniqueConstraint(fields=('convention', 'member'), name='unique_convention_member'),
        ),
    ]
